[mypy]
python_version = 3.13
mypy_path = src
warn_unused_ignores = True
warn_redundant_casts = True
warn_unused_configs = True

# If stubs aren’t present on a machine, don’t fail CI
[mypy-requests.*]
ignore_missing_imports = True

# DB layer: driver returns Any; allow Any returns + silence stale ignores
[mypy-infra.db.inventory_db]
disable_error_code = no-any-return, unused-ignore

# Web handlers often build dynamic dicts/JSON
[mypy-app.server]
disable_error_code = no-any-return, unused-ignore

# API client: thin wrapper over requests/json; allow Any + minor assignment/redef quirks
[mypy-core.services.rebrickable_api]
disable_error_code = no-any-return, assignment, no-redef
ignore_missing_imports = True

[mypy-scripts.load_instabrick_inventory]
disable_error_code = assignment, union-attr
