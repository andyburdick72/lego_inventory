{% extends "base.html" %}
{% from "partials/table.html" import render_table %}

{% block breadcrumbs %}
{% set extra_breadcrumbs = [{ 'href': '/my-sets', 'label': '⬅ Back to Sets' }] %}
{% include "partials/breadcrumbs.html" %}
{% endblock %}

{% block content %}
<h1>Set: {{ set_num }} – {{ set_name }}</h1>

<div class="d-flex align-items-center gap-3 my-2">
    {% if set_img_url %}
    <img src="{{ set_img_url }}" alt="Set image" style="height:64px;">
    {% endif %}
    {% if set_url %}
    <a href="{{ set_url }}" target="_blank" rel="noopener">View on Rebrickable</a>
    {% endif %}
    <span class="ms-auto"><strong>Total Qty:</strong> {{ total_qty_str }}</span>
</div>

{{ render_table(
table_id="set_parts_table",
columns=["Part ID", "Part Name", "Color", "Qty", "Rebrickable Link", "Image"],
rows=rows,
table_key="set_parts",
table_context={"set_num": set_num},
nonsearchable=[3, 4, 5]
) }}
{% endblock %}